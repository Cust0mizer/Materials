> Asset bundles - это zip архив в нашем проекте, который мы можем запаковать, папка Resources, тоже в своем роде Asset Bundles

> Мы можем поменять расширение нашего билда с Apk или Ipa, на Zip, дальше открыв билд, можно посмотреть из каких файлов состоит наш билд.

> Плюсы Addressable
> Удобное API, с возможностью асинхронной загрузки
> Скорость загрузки увеличивается
> Можно разбить бандлы на те что будут храниться на сервере и те что будут хранится локально
> Легко выгружать из памяти
> Use Case:
> 1) Обход лимита в сторе, 
> 2) Оптимизация памяти (Пример с не используемым меню)
> 

В Addressable - можно поместить все кроме скриптов.
Для добавление элемента в Addressable - нужно поставить галочку 
![[Pasted image 20241008134412.png]]
Если мы хотим поместить туда все файлы находящиеся в папке, то нужно поставить эту галочку на папке, но тут стоит понимать что если все в файлы в папке с галочкой и сама папка с галочкой, то в Addressable, будут продублированы все файлы в папке и сама папка. 
Если мы хотим что-бы все файлы из папки собирались как отдельные бандлы, к примеру у нас есть 100 уровней, каждый из уровней весит по 5мб, и мы не хотим грузить их все сразу, а лишь постепенно, то необходимо наоборот снять галочку с Addressable, на папке, поставить галочку на каждом файле, а в настройках группы выбрать: Pack Separately
![[Pasted image 20241008162330.png]]

Если мы закидываем в Addressable, к примеру SO, в котором есть ссылки на спрайты, то Addressable, автоматически добавит эти спрайты в AssetBundle.
Так-же стоит понимать что он может 2 раза добавить их в AssetBundle, если на наш спрайт ссылаются с 2х разных мест, примеру с Prefab и SO и оба этих объекта добавлены в AssetBundle.


Как происходит загрузка новых бандлов?
Первым делом загружается файл Catalog.Json, если этого файла вообще нет, то бандлы грузятся с сервера, если этот файл есть, то идет проверка, в этом файле для каждого бандла есть версия, если на сервере будет версия более высокая чем у нас, то мы загрузим новую версию себе локально. (Это добавить про рассказ о том, что бандлы не удаляются)

Анализ Asset Bundles
Бандлы лежат по пути
ПапкаПроекта\Library\com.unity.addressables\aa\название платформы для которой собирались бандлы\название платформы для которой собирались бандлы
С помощью программы Asset Studio Gui, можно открыть собранные бандлы, и посмотреть что в них попало, оценить вес который занимают эти бандлы. Так-же можно смотреть и чужие бандлы.

Рассказ про обновление версии бандлов на 1.50

Разбивка бандлов:
Логично разбивать по смысловым группам:
1) Префабы
2) Спрайты
3) Звуки
Разбивка по частоте использования, те что используются чаще выносятся в отдельные бандлы. Но тут важно держать баланс, не сводить все к отдельного бандла к отдельному файлу.
Когда разбивать? Смотрим на загрузку уровня, загрузку того что мы загружаем, и если это долго, то разбиваем.